<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="description" content="">
	<title>Minimal Typescript Calculator</title>
</head>

<body>
	<div id="root"></div>

	<script>
		(function () {
			window.__onThemeChange = function () { };
			function setTheme(newTheme) {
				window.__theme = newTheme;
				preferredTheme = newTheme;

				const oldTheme = newTheme === "dark" ? "light" : "dark"

				document.body.classList.add(newTheme);
				document.body.classList.remove(oldTheme);

				window.__onThemeChange(newTheme);
			}
			var preferredTheme;
			try {
				preferredTheme = localStorage.getItem("theme");
			} catch (err) { }
			window.__setPreferredTheme = function (newTheme) {
				setTheme(newTheme);
				try {
					localStorage.setItem("theme", newTheme);
				} catch (err) { }
			};
			setTheme(preferredTheme || "dark");
		})();

		(function () {
			window.__onViewChange = function () { };
			function setView(newView) {
				window.__view = newView;
				preferredView = newView;

				const oldView = newView === "demo" ? "functional" : "demo"

				document.body.classList.add(newView);
				document.body.classList.remove(oldView);

				window.__onViewChange(newView);
			}
			var preferredView;
			try {
				preferredView = localStorage.getItem("view");
			} catch (err) { }
			window.__setPreferredView = function (newView) {
				setView(newView);
				try {
					localStorage.setItem("view", newView);
				} catch (err) { }
			};
			setView(preferredView || "demo");
		})();
	</script>
	<script src="../src/App.ts"></script>
</body>

</html>